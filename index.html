<!DOCTYPE html><html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ä¸ªäººå¥åº·ä¸å‡è„‚ç®¡ç†æ–¹æ¡ˆ</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Microsoft YaHei", Arial, sans-serif;
      background: #f7f9fb;
      color: #222;
      line-height: 1.7;
      transition: background .3s, color .3s;
    }
    body.dark { background: #020617; color: #e5e7eb; }
    header { background: #2563eb; color: #fff; padding: 20px; }
    nav {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
      overflow-x: auto;
    }
    body.dark nav { background: #020617; border-color: #334155; }
    body.dark nav { background: #020617ee; border-color: #334155; }
    nav ul {
      display: flex;
      flex-wrap: nowrap;
      list-style: none;
      margin: 0;
      padding: 10px;
      gap: 16px;
      min-width: max-content;
    }
    nav a { text-decoration: none; color: #2563eb; font-weight: 500; }
    body.dark nav a { color: #93c5fd; }
    main {
      max-width: 960px;
      margin: auto;
      padding: 16px;
    }
    section {
      transition: max-height .3s ease;
      overflow: hidden;
      background: #fff;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    section.collapsed { max-height: 48px; }
    body.dark section { background: #020617; }
    body.dark section { background: #020617; }
    h2 { margin-top: 0; border-left: 4px solid #2563eb; padding-left: 10px; }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      overflow-x: auto;
      display: block;
    }
    th, td { border: 1px solid #e5e7eb; padding: 6px; text-align: center; }
    body.dark th, body.dark td { border-color: #334155; }
    th { background: #f1f5fb; }
    body.dark th { background: #020617; }
    input, textarea, button { padding: 6px; border-radius: 6px; border: 1px solid #d1d5db; font-size: 14px; }
    button { cursor: pointer; background: #2563eb; color: #fff; border: none; }
    canvas {
      width: 100%;
      max-height: 200px;
      display: block;
    }
    .tools { display:flex; gap:10px; flex-wrap:wrap; }
    @media print {
      nav, .tools, button { display: none !important; }
      body { background: #fff; color: #000; }
      main { max-width: 100%; padding: 0; }
      section { box-shadow: none; page-break-inside: avoid; }
    }
      body { background: #fff; color: #000; }
      section { box-shadow: none; }
    }
  </style>
</head>
<body>
<header>
  <h1>ä¸ªäººå¥åº·ä¸å‡è„‚ç®¡ç†æ–¹æ¡ˆ</h1>
  <p>é•¿æœŸç®¡ç† Â· å¯è§†åŒ– Â· å¯å¯¼å‡º</p>
</header><nav>
  <ul>
    <li><a href="#goal">ç›®æ ‡</a></li>
    <li><a href="#diet">é¥®é£Ÿ</a></li>
    <li><a href="#routine">æ´»åŠ¨</a></li>
    <li><a href="#skin">è…¿ä¸çš®è‚¤</a></li>
    <li><a href="#record">è®°å½•</a></li>
    <li><a href="#trend">è¶‹åŠ¿</a></li>
    <li><a href="#tools">å·¥å…·</a></li>
  </ul>
</nav><main>
<section id="today">
  <h2 onclick="toggleSection(this)">ğŸ“… ä»Šæ—¥æ¦‚è§ˆï¼ˆç‚¹å‡»æŠ˜å /å±•å¼€ï¼‰</h2>
  <ul id="todaySummary"></ul>
</section><section id="goal">
  <h2 onclick="toggleSection(this)">ä¸€ã€æ ¸å¿ƒç›®æ ‡ï¼ˆç‚¹å‡»æŠ˜å /å±•å¼€ï¼‰</h2>
  <h2>ä¸€ã€æ ¸å¿ƒç›®æ ‡</h2>
  <ul>
    <li>ç¨³æ­¥å‡è„‚ï¼Œé¿å…åå¼¹</li>
    <li>æ”¹å–„ä¸‹è‚¢é™è„‰å›æµ</li>
    <li>é™ä½è¡€å‹ä¸é™æ¯å¿ƒç‡</li>
    <li>çš®è‚¤é€æ­¥æ¢å¤</li>
  </ul>
</section><section id="diet">
  <h2 onclick="toggleSection(this)">äºŒã€é¥®é£ŸåŸåˆ™ï¼ˆç‚¹å‡»æŠ˜å /å±•å¼€ï¼‰</h2>
  <h2>äºŒã€é¥®é£ŸåŸåˆ™</h2>
  <ul>
    <li>åœŸè±† / çº¢è–¯ä½œä¸ºä¸»é£Ÿæ›¿ä»£</li>
    <li>é«˜è›‹ç™½ + é«˜é’¾ + ä½ç›</li>
    <li>å¾®æ³¢ç‚‰å¯å®Œæˆ</li>
  </ul>
</section><section id="routine">
  <h2 onclick="toggleSection(this)">ä¸‰ã€æ´»åŠ¨ä¸é™è„‰ç®¡ç†ï¼ˆç‚¹å‡»æŠ˜å /å±•å¼€ï¼‰</h2>
  <h2>ä¸‰ã€æ´»åŠ¨ä¸é™è„‰ç®¡ç†</h2>
  <ul>
    <li>ä¸‹ç­æ­¥è¡Œçº¦ 1.4 è‹±é‡Œ</li>
    <li>ä¹…åæ¯å°æ—¶æ´»åŠ¨å°è…¿</li>
    <li>ç™½å¤©ç©¿ 15â€“20 mmHg é™è„‰è¢œ</li>
  </ul>
</section><section id="skin">
  <h2 onclick="toggleSection(this)">å››ã€è…¿éƒ¨ä¸çš®è‚¤è§‚å¯Ÿæ—¥å¿—ï¼ˆç‚¹å‡»æŠ˜å /å±•å¼€ï¼‰</h2>
  <h2>å››ã€è…¿éƒ¨ä¸çš®è‚¤è§‚å¯Ÿæ—¥å¿—</h2>
  <textarea id="skinNote" rows="4" placeholder="è®°å½•é¢œè‰²ã€è„±å±‘ã€ç—’ã€å‡ºè¡€ç‚¹å˜åŒ–..."></textarea>
  <button onclick="saveSkinNote()">ä¿å­˜æ—¥å¿—</button>
</section><section id="record">
  <h2 onclick="toggleSection(this)">äº”ã€æ¯æ—¥æ•°æ®è®°å½•ï¼ˆç‚¹å‡»æŠ˜å /å±•å¼€ï¼‰</h2>
  <h2>äº”ã€æ¯æ—¥æ•°æ®è®°å½•</h2>
  <table>
    <tr><th>æ—¥æœŸ</th><th>ä½“é‡(lb)</th><th>æ”¶ç¼©å‹</th><th>èˆ’å¼ å‹</th><th>å¿ƒç‡</th></tr>
    <tr>
      <td><input id="date"></td>
      <td><input id="weight"></td>
      <td><input id="sys"></td>
      <td><input id="dia"></td>
      <td><input id="hr"></td>
    </tr>
  </table>
  <button onclick="saveRecord()">ä¿å­˜å½“å¤©æ•°æ®</button>
</section><section id="trend">
  <h2 onclick="toggleSection(this)">å…­ã€è¶‹åŠ¿å›¾ï¼ˆç‚¹å‡»æŠ˜å /å±•å¼€ï¼‰</h2>
  <h2>å…­ã€è¶‹åŠ¿å›¾</h2>
  <h4>ä½“é‡</h4><canvas id="wChart"></canvas>
  <h4>è¡€å‹</h4><canvas id="bpChart"></canvas>
  <h4>å¿ƒç‡</h4><canvas id="hrChart"></canvas>
</section><section id="tools">
  <h2 onclick="toggleSection(this)">ä¸ƒã€å·¥å…·ï¼ˆç‚¹å‡»æŠ˜å /å±•å¼€ï¼‰</h2>
  <h2>ä¸ƒã€å·¥å…·</h2>
  <div class="tools">
    <button onclick="exportData()">å¯¼å‡ºæ•°æ®(JSON)</button>
    <button onclick="window.print()">åŒ»ç”Ÿå°±è¯Šæ‰“å°ç‰ˆ</button>
    <button onclick="toggleDark()">åˆ‡æ¢æ·±è‰²æ¨¡å¼</button>
  </div>
</section>
</main><footer style="text-align:center;padding:20px;font-size:13px;">GitHub Pages Â· æœ¬åœ°æ•°æ®</footer><script>
function toggleSection(h){
  const s=h.parentElement;
  s.classList.toggle('collapsed');
}

let records = JSON.parse(localStorage.getItem('records')||'[]');
let timeline = JSON.parse(localStorage.getItem('timeline')||'[]');
date.valueAsDate = new Date();
if(localStorage.getItem('dark')==='1') document.body.classList.add('dark');

function saveRecord(){
  records.push({date:date.value,weight:+weight.value,sys:+sys.value,dia:+dia.value,hr:+hr.value});
  localStorage.setItem('records',JSON.stringify(records));
  updateToday();
 drawAll();
}
function saveSkinNote(){
  if(!skinNote.value) return;
  timeline.push({date:new Date().toLocaleDateString(),note:skinNote.value});
  localStorage.setItem('timeline',JSON.stringify(timeline));
  skinNote.value='';
}
function drawLine(canvas,arr,field){
  const c=document.getElementById(canvas),ctx=c.getContext('2d');
  c.width=c.offsetWidth;c.height=180;ctx.clearRect(0,0,c.width,c.height);
  if(arr.length<2) return;
  const vals=arr.map(r=>r[field]);
  const max=Math.max(...vals),min=Math.min(...vals);
  ctx.beginPath();
  arr.forEach((r,i)=>{
    const x=i*(c.width/(arr.length-1));
    const y=c.height-(r[field]-min)/(max-min||1)*c.height;
    i?ctx.lineTo(x,y):ctx.moveTo(x,y);
  });
  ctx.stroke();
}
function drawBP(){
  drawLine('bpChart',records,'sys');
}
function updateToday(){
  const ul=document.getElementById('todaySummary');
  if(!ul) return;
  ul.innerHTML='';
  if(!records.length){ ul.innerHTML='<li>æš‚æ— ä»Šæ—¥æ•°æ®</li>'; return; }
  const r=records[records.length-1];
  const flags=[];
  if(r.sys>=140||r.dia>=90) flags.push('âš ï¸ è¡€å‹åé«˜');
  if(r.hr>=90) flags.push('âš ï¸ é™æ¯å¿ƒç‡åé«˜');
  ul.innerHTML=`<li>ä½“é‡ï¼š${r.weight||'-'} lb</li><li>è¡€å‹ï¼š${r.sys||'-'} / ${r.dia||'-'}</li><li>å¿ƒç‡ï¼š${r.hr||'-'}</li>`;
  flags.forEach(f=>ul.innerHTML+=`<li style="color:#dc2626;font-weight:600;">${f}</li>`);
}

function drawAll(){
  drawLine('wChart',records,'weight');
  drawLine('hrChart',records,'hr');
  drawBP();
}
function exportData(){
  const blob=new Blob([JSON.stringify({records,timeline},null,2)],{type:'application/json'});
  const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='health-data.json';a.click();
}
function toggleDark(){
  document.body.classList.toggle('dark');
  localStorage.setItem('dark',document.body.classList.contains('dark')?'1':'0');
}
drawAll();
</script></body>
</html>